<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Gemini Q&A</title>
  <style>
    body { font-family: sans-serif; padding: 1rem; }
    textarea { width: 100%; height: 100px; }
    button { margin-top: 10px; padding: 5px 10px; }
    pre { background: #eee; padding: 1rem; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h2>ฉันคือ น้อลดิจิ วัน โปรดถามได้เลยคะ (Looker-Gemini)</h2>
  <textarea id="question" placeholder="พิมพ์คำถาม เช่น Forecast pipeline ใน Q4/2025?"></textarea>
  <br>
  <button onclick="askGemini()">ถามน้อลดิจิ วัน</button>
  <pre id="answer">ผลลัพธ์จะแสดงที่นี่...</pre>

  <script>
    const scriptUrl = "https://script.google.com/macros/s/AKfycbz4-0fi6nXUAWGTPSe_gitHT4v2CF-O-A5r-ZFYUXNye8H5Q7pdvkKtgHOtgLh8O7l2lw/exec"; // เปลี่ยนเป็นของคุณ

async function askGemini() {
  const question = document.getElementById("question").value;
  const res = await fetch(scriptUrl, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ prompt: question })
  });

  const answer = await res.text(); // เพราะ Apps Script return เป็น plain text
  document.getElementById("answer").textContent = answer;
}
  </script>
</body>
</html>
